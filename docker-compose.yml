version: '3.8'

services:
  btc-monitor:
    build: btc
    image: fathomx/btc-monitor
    container_name: btc-monitor
    volumes:
      - btc-data:/root/.electrum  # Persistent data storage for the daemon
      - ./btc:/electrum/btc       # Mount the 'btc' directory into the container at runtime
    entrypoint: ["/electrum/entrypoint.sh"]  # Use the script
    stdin_open: true
    tty: true
    networks:
      - btc-network  # Custom network to ensure connectivity

volumes:
  btc-data:

networks:
  btc-network:
